# ========================================
# FileName: corne.conf
# Date: 30.05.2025
# Brief: ZMK configuration for Corne with OLED displays
# Board: nice_nano_v2 with OLED displays
# =========================================

### Keyboard name
CONFIG_ZMK_KEYBOARD_NAME="Corne OLED"

### Boost Bluetooth TX power
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y
CONFIG_ZMK_BLE_EXPERIMENTAL_FEATURES=y
# Improve connection stability
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y

### POWER OPTIONS
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_EXT_POWER=y
# 15 min (15*60*1000ms) sleep timeout
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000

### OLED DISPLAY CONFIGURATION
CONFIG_ZMK_DISPLAY=y
# Enable the standard built-in status screen for OLED
CONFIG_ZMK_DISPLAY_STATUS_SCREEN_BUILT_IN=y
# Disable custom status screen (this was for nice!view)
# CONFIG_ZMK_DISPLAY_STATUS_SCREEN_CUSTOM=n

### WIDGET SETTINGS FOR OLED
# Enable standard widgets that work well with OLED
CONFIG_ZMK_WIDGET_LAYER_STATUS=y
CONFIG_ZMK_WIDGET_BATTERY_STATUS=y
CONFIG_ZMK_WIDGET_OUTPUT_STATUS=y
CONFIG_ZMK_WIDGET_WPM_STATUS=y
# Show battery percentage
CONFIG_ZMK_WIDGET_BATTERY_STATUS_SHOW_PERCENTAGE=y

### Split keyboard configuration
CONFIG_ZMK_SPLIT=y

### HID Settings
# Enable eager debouncing for lower input lag
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=1
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5

# Improves compatibility with iPad
CONFIG_ZMK_HID_CONSUMER_REPORT_USAGES_BASIC=y

### ZMK STUDIO (optional - remove if you don't want it)
CONFIG_ZMK_STUDIO=y
CONFIG_ZMK_STUDIO_LOCKING=n

### RGB UNDERGLOW (uncomment if you have RGB)
# CONFIG_ZMK_RGB_UNDERGLOW=y
# CONFIG_WS2812_STRIP=y
# CONFIG_ZMK_RGB_UNDERGLOW_AUTO_OFF_IDLE=y
# CONFIG_ZMK_RGB_UNDERGLOW_EFF_START=3
# CONFIG_ZMK_RGB_UNDERGLOW_BRT_START=15

### DEBUG OPTIONS (uncomment for troubleshooting)
# CONFIG_ZMK_USB_LOGGING=y
# CONFIG_LOG_PROCESS_THREAD_STARTUP_DELAY_MS=8000